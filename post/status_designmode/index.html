<!doctype html><html lang=zh-cn><head><meta charset=utf-8><title>çŠ¶æ€è®¾è®¡æ¨¡å¼ | ChuckLin's Blog</title><meta name=description content="Love and Peace"><meta name=author content><link rel=apple-touch-icon sizes=180x180 href=https://www.chucklin.net/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://www.chucklin.net/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://www.chucklin.net/favicon-16x16.png><link rel=manifest href=https://www.chucklin.net/site.webmanifest><link rel=mask-icon href=https://www.chucklin.net/safari-pinned-tab.svg color=#00416a><meta name=msapplication-TileColor content="#00aba9"><meta name=theme-color content="#ffffff"><link rel=me href=mailto:chuck1inzl@gmail.com><link rel=me href=https://github.com/chuck1in><link rel=authorization_endpoint href=https://indieauth.com/auth><link rel=token_endpoint href=https://tokens.indieauth.com/token><link rel=stylesheet href=https://www.chucklin.net/css/fonts.css><link rel=stylesheet href=https://www.chucklin.net/css/style.css><link rel=stylesheet href=https://www.chucklin.net/css/custom.css><meta name=viewport content="width=device-width,initial-scale=1"></head><body><div id=sitelogo><a class=glyph alt=Home href=https://www.chucklin.net/><img src=https://www.chucklin.net/images/site-logo.svg alt="Site Logo" height=64px width=64px></a></div><header><nav><div id=page-nav><div class=page-nav-item><a href=https://www.chucklin.net/>Home</a></div><div class=page-nav-item><a href=/about/me><span>About</span></a></div><div class=page-nav-item><a href=/tags><span>Tag</span></a></div></div></nav></header><div id=content><article class=h-entry><header><h1 class="post-title p-name">çŠ¶æ€è®¾è®¡æ¨¡å¼</h1><p class=post-date>Posted on
<time class=dt-published datetime=2018-01-02T09:48:23+08:00>2 January, 2018 at 09:48 +0800</time> by <a href=https://www.chucklin.net/ class="p-author h-card" rel=author>Chuck Lin</a></p></header><section class="content e-content"><h2 id=ä»€ä¹ˆæ˜¯çŠ¶æ€è®¾è®¡æ¨¡å¼>ä»€ä¹ˆæ˜¯çŠ¶æ€è®¾è®¡æ¨¡å¼ï¼Ÿ</h2><p>çŠ¶æ€è®¾è®¡æ¨¡å¼å…è®¸å¯¹è±¡åœ¨å†…éƒ¨çŠ¶æ€æ”¹å˜æ—¶æ”¹å˜å®ƒçš„è¡Œä¸ºï¼Œå¯¹è±¡çœ‹èµ·æ¥å¥½åƒä¿®æ”¹äº†å®ƒçš„ç±»ã€‚</p><h2 id=ä¸ºä»€ä¹ˆè¦ä½¿ç”¨çŠ¶æ€è®¾è®¡æ¨¡å¼>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨çŠ¶æ€è®¾è®¡æ¨¡å¼ï¼Ÿ</h2><p>çŠ¶æ€è®¾è®¡æ¨¡å¼å¯å°†å¯¹è±¡çš„çŠ¶æ€è¡Œä¸ºå°è£…åˆ°å•ç‹¬çš„çŠ¶æ€å¯¹è±¡ä¸­ï¼Œå¹¶å°†å¯¹è±¡çš„åŠ¨ä½œå§”æ‰˜åˆ°å½“å‰çŠ¶æ€çš„å¯¹è±¡ã€‚é€šè¿‡è¿™æ ·çš„æ–¹å¼å®ç°å°è£…å˜åŒ–ã€å¯¹æ‰©å±•å¼€æ”¾ã€å¯¹ä¿®æ”¹å…³é—­ä»¥å¢å¼ºä»£ç å¯è¯»æ€§ã€æ‰©å±•æ€§ã€ç»´æŠ¤æ€§çš„ç›®çš„ã€‚</p><h2 id=çŠ¶æ€è®¾è®¡æ¨¡å¼æ€ä¹ˆç”¨>çŠ¶æ€è®¾è®¡æ¨¡å¼æ€ä¹ˆç”¨ï¼Ÿ</h2><p>è¯•æƒ³ä¸‹é¢è¿™æ ·ä¸€ç§éœ€æ±‚ã€‚
ä¸‡èƒ½ç³–æœæœºå…¬å¸å§”æ‰˜æˆ‘ä»¬é€šè¿‡ java è¯­è¨€è®¾è®¡ä¸€ç§ç³–æœæœºçš„æ§åˆ¶ç¨‹åºï¼Œä»¥å®ç°ç±»ä¼¼å¦‚ä¸‹çš„çŠ¶æ€æ§åˆ¶æµç¨‹åŠŸèƒ½ã€‚</p><pre tabindex=0><code class=language-flow data-lang=flow>st=&gt;start: å¼€å§‹ä½¿ç”¨ç³–æœæœº
op=&gt;operation: æŠ•å…¥ç¡¬å¸
cond=&gt;condition: coins &gt; 25ï¼Ÿ
op2=&gt;operation: è½¬åŠ¨æ›²æŸ„
op3=&gt;operation: å”®å‡ºç³–æœ
op4=&gt;operation: é€€å›æŠ•å…¥çš„ç¡¬å¸
e=&gt;end: ä½¿ç”¨å®Œæ¯•

st-&gt;op-&gt;cond
cond(yes)-&gt;op2
cond(no)-&gt;op4
op2-&gt;op3-&gt;e
</code></pre><p>ä¸šåŠ¡æµç¨‹æ‹¥æœ‰è‡³å°‘ 3-4 ç§å¯æ‰§è¡Œçš„åŠ¨ä½œåˆ†åˆ«æ˜¯ï¼šæŠ•å…¥ç¡¬å¸ã€é€€å›ç¡¬å¸ã€è½¬åŠ¨æ›²æŸ„ã€å”®å‡ºç³–æœã€‚å¦å¤–è¿˜å…·å¤‡ 3 ç§ï¼ˆæˆ–è€…æ›´å¤šï¼‰çŠ¶æ€å¯¹åº”å¯æ‰§è¡ŒåŠ¨ä½œï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ï¼šç­‰å¾…æŠ•å¸ã€å·²æŠ•å¸ã€å”®ç½„çŠ¶æ€ã€‚</p><p>ç³–æœæœºçš„ä¸šåŠ¡è¡¨é¢ä¸Šçœ‹èµ·æ¥æŒºç®€å•çš„ã€‚å”¯ä¸€éœ€è¦æ³¨æ„çš„æ˜¯æ¯æ¬¡æ‰§è¡ŒæŸç§åŠ¨ä½œä¹‹å‰ï¼Œä½ å¿…é¡»å¯¹å½“å‰æ‰€å¤„çš„çŠ¶æ€è¿›è¡Œæ£€æŸ¥ã€‚æ¯”å¦‚ç”¨æˆ·åœ¨æŠ•å…¥ç¡¬å¸ä¸”æ¶ˆè´¹ç¡¬å¸ä¹‹å‰ï¼Œæ— æ³•å†æ¬¡æŠ•å…¥ç¡¬å¸ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>package</span> designpattern.State<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e> * çŠ¶æ€è®¾è®¡æ¨¡å¼
</span></span></span><span style=display:flex><span><span style=color:#75715e> *
</span></span></span><span style=display:flex><span><span style=color:#75715e> * @author ChuckLin
</span></span></span><span style=display:flex><span><span style=color:#75715e> */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>GumballMachine</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// å”®ç½„çŠ¶æ€
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>int</span> SOLD_OUT <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// å·²æŠ•å¸çŠ¶æ€
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>int</span> HAS_QUARTER <span style=color:#f92672>=</span> 2<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ç­‰å¾…æŠ•å¸çŠ¶æ€
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>int</span> NO_QUARTER <span style=color:#f92672>=</span> 3<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>int</span> state <span style=color:#f92672>=</span> SOLD_OUT<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>int</span> count <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>GumballMachine</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> count<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>count</span> <span style=color:#f92672>=</span> count<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>count <span style=color:#f92672>&gt;</span> 0<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            state <span style=color:#f92672>=</span> NO_QUARTER<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * æŠ•å¸å‡½æ•°
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>insertQuarter</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>state <span style=color:#f92672>==</span> NO_QUARTER<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;æŠ•å…¥ç¡¬å¸æˆåŠŸ&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>            state <span style=color:#f92672>=</span> HAS_QUARTER<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span> <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>state <span style=color:#f92672>==</span> SOLD_OUT<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;å·²å”®ç½„,é€€å›ç¡¬å¸&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span> <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>state <span style=color:#f92672>==</span> HAS_QUARTER<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;è¯·å‹¿é‡å¤æŠ•å…¥ç¡¬å¸&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span> <span style=color:#66d9ef>else</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;æœªçŸ¥çš„çŠ¶æ€é”™è¯¯&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * è½¬åŠ¨æ›²æŸ„å‡½æ•°
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>turnCrank</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>state <span style=color:#f92672>==</span> NO_QUARTER<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;è¿˜æœªæŠ•å…¥ç¡¬å¸&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>            state <span style=color:#f92672>=</span> HAS_QUARTER<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span> <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>state <span style=color:#f92672>==</span> SOLD_OUT<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;å·²å”®ç½„ã€‚é€€å›ç¡¬å¸&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span> <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>state <span style=color:#f92672>==</span> HAS_QUARTER<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;æ­£åœ¨å‘æ”¾ç³–æœã€‚ã€‚ã€‚ã€‚&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>            System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;å‘æ”¾å®Œæ¯•&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>            state <span style=color:#f92672>=</span> NO_QUARTER<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span> <span style=color:#66d9ef>else</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;æœªçŸ¥çš„çŠ¶æ€é”™è¯¯&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>è¿™ä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„å·¥ä¸šçº§çš„ç³–æœæœºå®ç°ã€‚ä¸è¿‡åœ¨æœ¬ç¯‡æ–‡ç« ä¸­ä¸ºäº†ç®€ç•¥æœŸé—´ï¼Œè¿™æ ·ä¸€ä¸ªç®€åŒ–ç‰ˆçš„ç³–æœæœºå°±è¶³å¤Ÿè¯´æ˜é—®é¢˜äº†ã€‚</p><p>ç°åœ¨ä½ è®¤ä¸ºä»£ç å·²ç»å¯ä»¥äº¤ä»˜äº†ã€‚å¯æƒœè¯¥æ¥çš„æ€»ä¼šæ¥ã€‚
ä¸‡èƒ½ç³–æœæœºå…¬å¸çš„äº§å“ç»ç†ä»¬ååˆ†æ»¡æ„æˆ‘ä»¬çš„å·¥ä½œæˆæœï¼Œå¹¶å¸Œæœ›åœ¨ç³–æœæœºä¸­çš„æµç¨‹ä¸­å¢åŠ ä¸€ä¸ªåŠŸèƒ½ã€‚ä»–ä»¬å¸Œæœ›ç³–æœæœºåœ¨æŠ•å¸åæœ‰å‡ ç‡ã€Œä¸­å¥–ã€ï¼Œåœ¨ç¨åè½¬åŠ¨æ›²æŸ„å‘æ”¾ç³–æœæ—¶æœ‰å‡ ç‡å‘æ”¾å‡ºåŒå€çš„ç³–æœä»¥åŠ å¼ºç³–æœæœºçš„å¨±ä¹æ€§ï¼Œç»§è€Œæå‡é”€å”®é‡ã€‚</p><p>ç°åœ¨å›è¿‡å¤´æ¥çœ‹çœ‹åˆšæ‰çš„ä»£ç ï¼Œå¹¶è€ƒè™‘å¦‚ä½•å¯¹åº”è¿™ä¸ªå˜åŒ–ã€‚ã€‚ã€‚ã€‚</p><ul><li>é¦–å…ˆï¼Œéœ€è¦å¢åŠ ä¸€ç§çŠ¶æ€å«åšä¸­å¥–ã€‚</li><li>éœ€è¦åœ¨æ¯ä¸ªåŠ¨ä½œå‡½æ•°ä¸­å¢åŠ ä¸­å¥–çŠ¶æ€çš„ checkã€‚</li><li>åœ¨ turnCrank å‡½æ•°ä¸­éœ€è¦åˆ¤æ–­å½“å‰æ˜¯å¦æ˜¯ä¸­å¥–çŠ¶æ€ï¼Œè‹¥æ˜¯åˆ™è¦å‘æ”¾ä¸¤å€ç³–æœã€‚å¹¶ä¸”åœ¨æœ€åéƒ½éœ€è¦æŠŠçŠ¶æ€æçš„çŠ¶æ€è¿˜åŸåˆ°æœ€åˆçš„çŠ¶æ€ã€‚</li></ul><p>éšç€ä¸šåŠ¡å¤æ‚åº¦çš„å¢åŠ ï¼Œæ‰€å¯¹åº”çš„çŠ¶æ€å’ŒåŠ¨ä½œå‡½æ•°çš„å¢å¤šï¼Œè¿™æ ·çš„å˜æ›´ç®€ç›´æ˜¯å™©æ¢¦ã€‚è€Œå¯¹äºäº§å“ç»ç†ä»¬æ¥è¯´è¿™æ ·çš„å˜æ›´å’Œå…¶ä»–åƒåƒä¸‡ä¸‡ä¸ªå˜æ›´ä¸€æ ·å±äºï¼šã€Œè¿™ä¸ªéœ€æ±‚å¾ˆç®€å•ï¼Œæ€ä¹ˆå®ç°æˆ‘ä¸ç®¡ï¼Œæ˜å¤©ä¸Šçº¿ã€‚ã€çš„èŒƒç•´ã€‚</p><h3 id=æ–°çš„è®¾è®¡>æ–°çš„è®¾è®¡</h3><p>æ˜¾ç„¶åˆåˆ°äº†è®¾è®¡æ¨¡å¼çš„æ•‘åœºçš„æ—¶å€™äº†ã€‚
äºæ˜¯æ–°çš„è®¾è®¡æ€è·¯å¦‚ä¸‹ï¼š</p><ul><li>å°è£…å˜åŒ–ã€‚</li><li>å°†çŠ¶æ€çš„è¡Œä¸ºå°è£…åˆ°çŠ¶æ€å¯¹è±¡ä¸­ã€‚</li><li>åˆ©ç”¨ç»„åˆè¡Œä¸ºå°†çŠ¶æ€å˜åŒ–å§”æ‰˜åˆ°æ¯ä¸ªçŠ¶æ€è¡Œä¸ºå¯¹è±¡ä¸­å»æ‰§è¡Œã€‚</li></ul><p>ä¾ç…§è¿™æ ·çš„æ€è·¯ï¼Œæˆ‘ä»¬å…ˆå°†çŠ¶æ€ç­‰æ˜“å˜åŒ–çš„éƒ¨åˆ†å°è£…èµ·æ¥ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e> * çŠ¶æ€è®¾è®¡æ¨¡å¼
</span></span></span><span style=display:flex><span><span style=color:#75715e> * çŠ¶æ€æ¥å£
</span></span></span><span style=display:flex><span><span style=color:#75715e> */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>State</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * æŠ•å¸å‡½æ•°
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>insertQuarter</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * è½¬åŠ¨æ›²æŸ„å‡½æ•°
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>turnCrank</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e> * çŠ¶æ€è®¾è®¡æ¨¡å¼
</span></span></span><span style=display:flex><span><span style=color:#75715e> * å·²æŠ•å…¥ç¡¬å¸,å¾…å‡ºå”®çŠ¶æ€
</span></span></span><span style=display:flex><span><span style=color:#75715e> */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>HasQuarterState</span> <span style=color:#66d9ef>implements</span> State <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> GumballMachine gumballMachine<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> GumballMachine <span style=color:#a6e22e>getGumballMachine</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> gumballMachine<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>HasQuarterState</span><span style=color:#f92672>(</span>GumballMachine gumballMachine<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>gumballMachine</span> <span style=color:#f92672>=</span> gumballMachine<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>setGumballMachine</span><span style=color:#f92672>(</span>GumballMachine gumballMachine<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>gumballMachine</span> <span style=color:#f92672>=</span> gumballMachine<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>insertQuarter</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;å·²æŠ•å¸,è¯·å…ˆæ¶ˆè´¹ã€‚&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>turnCrank</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;å‘æ”¾ç³–æœã€‚ã€‚ã€‚&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;ç³–æœå‘æ”¾å®Œæ¯•&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        gumballMachine<span style=color:#f92672>.</span><span style=color:#a6e22e>setState</span><span style=color:#f92672>(</span>gumballMachine<span style=color:#f92672>.</span><span style=color:#a6e22e>getNoQuarterState</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e> * çŠ¶æ€è®¾è®¡æ¨¡å¼
</span></span></span><span style=display:flex><span><span style=color:#75715e> * ç­‰å¾…æŠ•å…¥ç¡¬å¸çŠ¶æ€
</span></span></span><span style=display:flex><span><span style=color:#75715e> */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>NoQuarterState</span> <span style=color:#66d9ef>implements</span> State <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> GumballMachine gumballMachine<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> GumballMachine <span style=color:#a6e22e>getGumballMachine</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> gumballMachine<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>NoQuarterState</span><span style=color:#f92672>(</span>GumballMachine gumballMachine<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>gumballMachine</span> <span style=color:#f92672>=</span> gumballMachine<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>setGumballMachine</span><span style=color:#f92672>(</span>GumballMachine gumballMachine<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>gumballMachine</span> <span style=color:#f92672>=</span> gumballMachine<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>insertQuarter</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;æŠ•å…¥ç¡¬å¸æˆåŠŸ&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        gumballMachine<span style=color:#f92672>.</span><span style=color:#a6e22e>setState</span><span style=color:#f92672>(</span>getGumballMachine<span style=color:#f92672>().</span><span style=color:#a6e22e>getHasQuarterState</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>turnCrank</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;è¯·æŠ•å…¥ç¡¬å¸&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e> * çŠ¶æ€è®¾è®¡æ¨¡å¼
</span></span></span><span style=display:flex><span><span style=color:#75715e> * å”®ç½„çŠ¶æ€
</span></span></span><span style=display:flex><span><span style=color:#75715e> */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>SoldOutState</span> <span style=color:#66d9ef>implements</span> State <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> GumballMachine gumballMachine<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> GumballMachine <span style=color:#a6e22e>getGumballMachine</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> gumballMachine<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>SoldOutState</span><span style=color:#f92672>(</span>GumballMachine gumballMachine<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>gumballMachine</span> <span style=color:#f92672>=</span> gumballMachine<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>setGumballMachine</span><span style=color:#f92672>(</span>GumballMachine gumballMachine<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>gumballMachine</span> <span style=color:#f92672>=</span> gumballMachine<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>insertQuarter</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;å·²å”®ç½„&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>turnCrank</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;å·²å”®ç½„&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>ç„¶ååˆ©ç”¨å§”æ‰˜æ–¹å¼å°†ç³–æœæœºçš„ä»»åŠ¡å§”æ‰˜ç»™çŠ¶æ€å¯¹è±¡ä½¿ç”¨ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e> * çŠ¶æ€è®¾è®¡æ¨¡å¼
</span></span></span><span style=display:flex><span><span style=color:#75715e> * ç³–æœæœº
</span></span></span><span style=display:flex><span><span style=color:#75715e> */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>GumballMachine</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * ç³–æœæœºæ‰€å¯¹åº”çš„æ‰€æœ‰çŠ¶æ€
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> State hasQuarterState<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> State noQuarterState<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> State soldOutState<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * ç³–æœæœºç›®å‰çŠ¶æ€
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> State state<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * åˆå§‹åŒ–ç³–æœæœºçŠ¶æ€
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>GumballMachine</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        hasQuarterState <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> HasQuarterState<span style=color:#f92672>(</span><span style=color:#66d9ef>this</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        noQuarterState <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> NoQuarterState<span style=color:#f92672>(</span><span style=color:#66d9ef>this</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        soldOutState <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> SoldOutState<span style=color:#f92672>(</span><span style=color:#66d9ef>this</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>state</span> <span style=color:#f92672>=</span> noQuarterState<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> State <span style=color:#a6e22e>getState</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> state<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>setState</span><span style=color:#f92672>(</span>State state<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>state</span> <span style=color:#f92672>=</span> state<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> State <span style=color:#a6e22e>getHasQuarterState</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> hasQuarterState<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>setHasQuarterState</span><span style=color:#f92672>(</span>State hasQuarterState<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>hasQuarterState</span> <span style=color:#f92672>=</span> hasQuarterState<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> State <span style=color:#a6e22e>getNoQuarterState</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> noQuarterState<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>setNoQuarterState</span><span style=color:#f92672>(</span>State noQuarterState<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>noQuarterState</span> <span style=color:#f92672>=</span> noQuarterState<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> State <span style=color:#a6e22e>getSoldOutState</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> soldOutState<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>setSoldOutState</span><span style=color:#f92672>(</span>State soldOutState<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>soldOutState</span> <span style=color:#f92672>=</span> soldOutState<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * ç¡¬å¸æŠ•å…¥åŠ¨ä½œå‡½æ•°
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>insertQuarter</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        state<span style=color:#f92672>.</span><span style=color:#a6e22e>insertQuarter</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * è½¬åŠ¨æ›²æŸ„å‡½æ•°
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>turnCrank</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        state<span style=color:#f92672>.</span><span style=color:#a6e22e>turnCrank</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        GumballMachine gumballMachine <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> GumballMachine<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>        gumballMachine<span style=color:#f92672>.</span><span style=color:#a6e22e>turnCrank</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>gumballMachine<span style=color:#f92672>.</span><span style=color:#a6e22e>getState</span><span style=color:#f92672>().</span><span style=color:#a6e22e>getClass</span><span style=color:#f92672>().</span><span style=color:#a6e22e>getSimpleName</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>        gumballMachine<span style=color:#f92672>.</span><span style=color:#a6e22e>insertQuarter</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>gumballMachine<span style=color:#f92672>.</span><span style=color:#a6e22e>getState</span><span style=color:#f92672>().</span><span style=color:#a6e22e>getClass</span><span style=color:#f92672>().</span><span style=color:#a6e22e>getSimpleName</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>        gumballMachine<span style=color:#f92672>.</span><span style=color:#a6e22e>turnCrank</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><pre tabindex=0><code>è¯·æŠ•å…¥ç¡¬å¸
NoQuarterState
æŠ•å…¥ç¡¬å¸æˆåŠŸ
HasQuarterState
å‘æ”¾ç³–æœã€‚ã€‚ã€‚
ç³–æœå‘æ”¾å®Œæ¯•
</code></pre><p>å¤§åŠŸå‘Šæˆã€‚ç°åœ¨çš„è®¾è®¡ä¸ä»…èƒ½å¸®ä½ å¿«é€Ÿè§£å†³é¢‘ç¹å˜æ›´çš„éœ€æ±‚è¿˜èƒ½å‡å°‘ä½ å’Œäº§å“ç»ç†å¯¹è¯çš„æ—¶é—´ã€‚
è¿™æ ·çš„ä»£ç é¢å‘çš„æ˜¯æ¥å£ï¼Œè€Œéå…·ä½“ç±»å‹ç¼–ç¨‹ã€‚å®ƒä»¬å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚è‹¥å‘ç”Ÿéœ€æ±‚å˜æ›´ï¼Œä½ ä»…ä»…éœ€è¦çš„æ˜¯å¢åŠ ä¸€ä¸ªçŠ¶æ€å¯¹è±¡ï¼Œåœ¨çŠ¶æ€å¯¹è±¡å¤„ç†å¥½é€»è¾‘ï¼Œè€Œå…¶ä»–åœ°æ–¹çš„ä»£ç ä½ å®Œå…¨ä¸éœ€è¦æ”¹åŠ¨ã€‚</p><h2 id=æ€»ç»“>æ€»ç»“</h2><p>é€šè¿‡ä¸Šé¢çš„ç¤ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°è¿™åˆæ˜¯ä¸€ä¸ªåˆ©ç”¨ç»„åˆæ¥è§£å†³é—®é¢˜çš„è®¾è®¡æ¨¡å¼ã€‚å¾ˆæ˜¾ç„¶ç»„åˆè¦æ¯”ç»§æ‰¿æ›´é€‚åˆäºæ‰©å±•ä¸ç»´æŠ¤ã€‚
åœ¨ä¹‹å‰çš„æ–‡ç« ä¸­ï¼Œç­–ç•¥è®¾è®¡æ¨¡å¼å’ŒçŠ¶æ€è®¾è®¡æ¨¡å¼éå¸¸ç›¸ä¼¼ï¼Œç”šè‡³ä»–ä»¬çš„ uml å›¾éƒ½æ˜¯ä¸€æ ·çš„ã€‚é‚£ä¹ˆä¸ºä½•çŠ¶æ€è®¾è®¡æ¨¡å¼è¦å•ç‹¬æ‹¿å‡ºæ¥è®²å‘¢ï¼Ÿ
è¿™æ˜¯å› ä¸ºç­–ç•¥è®¾è®¡æ¨¡å¼çš„ä½¿ç”¨ç›®çš„åœ¨äºå¯¹è±¡ä¸»åŠ¨åœ°å»æ§åˆ¶ç®—æ³•æˆ–è€…è¡Œä¸ºï¼Œè€ŒçŠ¶æ€è®¾è®¡æ¨¡å¼æ›´å€¾å‘äºå®šä¹‰å¥½ä¸€ç»„åœ¨å®¢æˆ·ç«¯å¯¹è±¡é‡Œå¯ä»¥äº’ç›¸è½¬æ¢çš„çŠ¶æ€ã€‚</p></section><footer><a class="permalink u-url" href=https://www.chucklin.net/post/status_designmode/>ğŸ”—</a><hr class=post-underline><p class=post-tag>Tags for this post:
<a href=https://www.chucklin.net/tags/java class="post-tag p-category">java</a></p></footer></article></div><div class=h-card><img class=u-photo src=https://www.chucklin.net/images/avator.jpg><div class=card-content><h2 class=card-name><a class="p-name u-url" href=https://www.chucklin.net/ rel=me>Chuck Lin</a></h2><p class=card-subhead><span class=p-locality>Chengdu</span>,
<span class=p-country-name>China</span><br><a class=u-email href=mailto:chuck1inzl@gmail.com>Email me</a></p></div><p class=p-note>ä»äº‹å¼€å‘å·¥ä½œ10å¹´ï¼ŒæŒç»­å†™ä½œ4å¹´ï¼Œç°åœ¨çš„èº«ä»½æ˜¯ä¸€å freelancerã€‚é¡¹ç›®å¤–åŒ…ã€é›‡ä½£æ´½è°ˆç­‰äº‹é¡¹è¯·é€šè¿‡é‚®ç®±å’Œæˆ‘è”ç³»ã€‚</p></div><div id=footer><nav id=article-skip><div class=next><a alt="Newer article" href=https://www.chucklin.net/post/strategy_designmode/>&larr; Newer</a></div><div class=top><a alt="Top of page" href=#>Top</a></div><div class=prev><a alt="Older article" href=https://www.chucklin.net/post/factory_designmode/>Older &rarr;</a></div></nav><aside id=social><div id=social-icons><div class=icon-24x24><a class=glyph alt="GitHub profile" href=https://github.com/chuck1in><img src=https://www.chucklin.net/icons/github.svg height=24px width=24px></a></div></div></aside><p class=copyright>Copyright Â© 2021 Chuck Lin. All rights reserved.</p></div></body></html>