<!doctype html><html lang=zh-cn>
<head>
<meta charset=utf-8>
<title>æ³›å‹å®æˆ˜ | ChuckLin's Blog</title>
<meta name=description content="Love and Peace">
<meta name=author content>
<link rel=apple-touch-icon sizes=180x180 href=https://www.chucklin.net/apple-touch-icon.png>
<link rel=icon type=image/png sizes=32x32 href=https://www.chucklin.net/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=https://www.chucklin.net/favicon-16x16.png>
<link rel=manifest href=https://www.chucklin.net/site.webmanifest>
<link rel=mask-icon href=https://www.chucklin.net/safari-pinned-tab.svg color=#00416a>
<meta name=msapplication-TileColor content="#00aba9">
<meta name=theme-color content="#ffffff">
<link rel=me href=mailto:chuck1in9996@gmail.com>
<link rel=me href=https://github.com/chuck1in>
<link rel=authorization_endpoint href=https://indieauth.com/auth>
<link rel=token_endpoint href=https://tokens.indieauth.com/token>
<link rel=stylesheet href=https://www.chucklin.net/css/fonts.css>
<link rel=stylesheet href=https://www.chucklin.net/css/style.css>
<link rel=stylesheet href=https://www.chucklin.net/css/custom.css>
<meta name=viewport content="width=device-width,initial-scale=1">
</head>
<body>
<div id=sitelogo>
<a class=glyph alt=Home href=https://www.chucklin.net/><img src=https://www.chucklin.net/images/site-logo.svg alt="Site Logo" height=64px width=64px></a>
</div>
<header>
<nav>
<div id=page-nav>
<div class=page-nav-item>
<a href=https://www.chucklin.net/>Home</a>
</div>
<div class=page-nav-item>
<a href=/about/me>
<span>About</span>
</a>
</div>
<div class=page-nav-item>
<a href=/tags>
<span>Tag</span>
</a>
</div>
</div>
</nav>
</header>
<div id=content>
<article class=h-entry>
<header>
<h1 class="post-title p-name">æ³›å‹å®æˆ˜</h1>
<p class=post-date>Posted on
<time class=dt-published datetime=2020-01-15T09:23:00+08:00>
15 January, 2020 at 09:23 +0800
</time> by <a href=https://www.chucklin.net/ class="p-author h-card" rel=author>Chuck Lin</a>
</p>
</header>
<section class="content e-content">
<p>æ³›å‹æ˜¯ä¸€ç§å°†è¿è¡Œæ—¶å¼‚å¸¸è½¬åŒ–ä¸ºç¼–è¯‘æ—¶å¼‚å¸¸çš„ä¸€ç§æŠ€æœ¯ï¼Œåœ¨ä¸é›†åˆæœ‰å…³çš„åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä½¿ç”¨æ³›å‹æ¥å¯¹é›†åˆå…ƒç´ çš„ç±»å‹åšå‡ºçº¦æŸä»¥è®©ä»£ç æ›´åŠ å¥å£®ã€‚</p>
<p>ä½¿ç”¨æ³›å‹æ˜¯ä¸€ä»¶éå¸¸å®¹æ˜“çš„äº‹æƒ…ã€‚ä½†æ˜¯å°†æ³›å‹çš„ç†å¿µå¸¦å…¥å¸¦æˆ‘ä»¬çš„æ¨¡å—è®¾è®¡ä¸­å°±ä¸æ˜¯é‚£ä¹ˆå®¹æ˜“çš„äº‹æƒ…äº†ã€‚å¦‚æœä½ å¯¹é€šé…ç¬¦ï¼Œç±»å‹æ¨å¯¼ï¼Œæœ‰é™åˆ¶é€šé…ç¬¦ç­‰ç­‰åè¯è¿˜ä¸æ˜¯å¾ˆäº†è§£ï¼Œé‚£ä¹ˆæœ¬ç¯‡æ–‡ç« åº”è¯¥èƒ½å¤Ÿå¸®åˆ°ä½ ã€‚</p>
<h2 id=ç±»å‹æ¨å¯¼>ç±»å‹æ¨å¯¼</h2>
<h3 id=æ³›å‹ç±»æ³›å‹æ–¹æ³•>æ³›å‹ç±»/æ³›å‹æ–¹æ³•</h3>
<p>ç±»å‹æ¨å¯¼æ˜¯æŒ‡ï¼Œç¼–è¯‘å™¨é€šè¿‡æ£€æŸ¥æ–¹æ³•å‚æ•°çš„ç±»å‹æ¥è®¡ç®—ç±»å‹å‚æ•°çš„å€¼ï¼Œè¿™æ ·çš„è¿‡ç¨‹ç§°ä¸ºç±»å‹æ¨å¯¼ã€‚
ç±»å‹æ¨å¯¼çš„ä»£è¡¨æ€§ç”¨æ³•ä¸ºæ³›å‹ç±»å’Œæ³›å‹æ–¹æ³•ï¼Œæ¯”å¦‚ä¸‹é¢è¿™ä¸ª Stackã€‚</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#75715e>/**
</span><span style=color:#75715e> * æ³›å‹æµ‹è¯•
</span><span style=color:#75715e> * æ³›å‹æ–¹æ³•,æ³›å‹é›†åˆ
</span><span style=color:#75715e> */</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>GenericApplication</span><span style=color:#f92672>&lt;</span>E<span style=color:#f92672>&gt;</span> <span style=color:#f92672>{</span>

    <span style=color:#66d9ef>private</span> LinkedList<span style=color:#f92672>&lt;</span>E<span style=color:#f92672>&gt;</span> list<span style=color:#f92672>;</span>

    <span style=color:#75715e>/**
</span><span style=color:#75715e>     * åˆ›å»ºé›†åˆå¯¹è±¡
</span><span style=color:#75715e>     */</span>
    <span style=color:#66d9ef>private</span> <span style=color:#a6e22e>GenericApplication</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>

        list <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> LinkedList<span style=color:#f92672>();</span>
    <span style=color:#f92672>}</span>

    <span style=color:#75715e>/**
</span><span style=color:#75715e>     * å‹æ ˆ
</span><span style=color:#75715e>     *
</span><span style=color:#75715e>     * @param e å‹æ ˆæˆå‘˜
</span><span style=color:#75715e>     */</span>
    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>push</span><span style=color:#f92672>(</span>E e<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        list<span style=color:#f92672>.</span><span style=color:#a6e22e>addLast</span><span style=color:#f92672>(</span>e<span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>

    <span style=color:#75715e>/**
</span><span style=color:#75715e>     * å¼¹æ ˆ
</span><span style=color:#75715e>     *
</span><span style=color:#75715e>     * @return æ ˆæˆå‘˜
</span><span style=color:#75715e>     */</span>
    <span style=color:#66d9ef>private</span> E <span style=color:#a6e22e>pop</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>return</span> list<span style=color:#f92672>.</span><span style=color:#a6e22e>pop</span><span style=color:#f92672>();</span>

    <span style=color:#f92672>}</span>


    <span style=color:#75715e>/**
</span><span style=color:#75715e>     * åˆ¤æ–­æ ˆæˆå‘˜æ˜¯å¦ä¸ºç©º
</span><span style=color:#75715e>     *
</span><span style=color:#75715e>     * @return true:ä¸ºç©º false:ä¸ä¸ºç©º
</span><span style=color:#75715e>     */</span>
    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>boolean</span> <span style=color:#a6e22e>isEmpty</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>return</span> list<span style=color:#f92672>.</span><span style=color:#a6e22e>isEmpty</span><span style=color:#f92672>();</span>
    <span style=color:#f92672>}</span>


    <span style=color:#75715e>/**
</span><span style=color:#75715e>     * é€šè¿‡æ³›å‹æ–¹æ³•,è¿”å›æ³›å‹æ£€æŸ¥è¿‡çš„é›†åˆã€‚
</span><span style=color:#75715e>     *
</span><span style=color:#75715e>     * @param s1  æ³›å‹é›†åˆ1
</span><span style=color:#75715e>     * @param s2  æ³›å‹é›†åˆ2
</span><span style=color:#75715e>     * @param &lt;T&gt; æ³›å‹å‚æ•°
</span><span style=color:#75715e>     * @return åˆå¹¶è¿‡åçš„æ³›å‹é›†åˆ
</span><span style=color:#75715e>     */</span>
    <span style=color:#66d9ef>private</span> <span style=color:#f92672>&lt;</span>T<span style=color:#f92672>&gt;</span> Set<span style=color:#f92672>&lt;</span>T<span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>unionWithGeneric</span><span style=color:#f92672>(</span>Set<span style=color:#f92672>&lt;</span>T<span style=color:#f92672>&gt;</span> s1<span style=color:#f92672>,</span> Set<span style=color:#f92672>&lt;</span>T<span style=color:#f92672>&gt;</span> s2<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        Set<span style=color:#f92672>&lt;</span>T<span style=color:#f92672>&gt;</span> result <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> HashSet<span style=color:#f92672>&lt;&gt;(</span>s1<span style=color:#f92672>);</span>
        result<span style=color:#f92672>.</span><span style=color:#a6e22e>addAll</span><span style=color:#f92672>(</span>s2<span style=color:#f92672>);</span>
        <span style=color:#66d9ef>return</span> result<span style=color:#f92672>;</span>
    <span style=color:#f92672>}</span>

    <span style=color:#75715e>/**
</span><span style=color:#75715e>     * æ³›å‹æ–¹æ³•æµ‹è¯•å‡½æ•°ã€‚
</span><span style=color:#75715e>     *
</span><span style=color:#75715e>     * @param args
</span><span style=color:#75715e>     */</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String args<span style=color:#f92672>[])</span> <span style=color:#f92672>{</span>
        Set<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> set1 <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> HashSet<span style=color:#f92672>();</span>
        set1<span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;1&#34;</span><span style=color:#f92672>);</span>
        Set<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> set2 <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> HashSet<span style=color:#f92672>();</span>
        set2<span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;2&#34;</span><span style=color:#f92672>);</span>
        GenericApplication<span style=color:#f92672>&lt;</span>Number<span style=color:#f92672>&gt;</span> ga <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> GenericApplication<span style=color:#f92672>();</span>
        Set<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> result <span style=color:#f92672>=</span> ga<span style=color:#f92672>.</span><span style=color:#a6e22e>unionWithGeneric</span><span style=color:#f92672>(</span>set1<span style=color:#f92672>,</span> set2<span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>


<span style=color:#f92672>}</span>

</code></pre></div><p>é€šè¿‡æ³›å‹ç±» GenericApplication å¯ä»¥åˆ›å»ºå‡ºæ”¯æŒä»»æ„ç±»å‹ï¼Œå¹¶ä¸”å—åˆ°æ³›å‹æ¡ä»¶çº¦æŸçš„é›†åˆå¯¹è±¡ã€‚
é€šè¿‡æ³›å‹æ–¹æ³• unionWithGeneric å¯ä»¥æ ¹æ®å‚æ•°çš„ç±»å‹è¿”å›ç›¸åº”ç±»å‹çš„é›†åˆå¯¹è±¡ã€‚
å¯è§ï¼Œé€šè¿‡ç±»å‹æ¨å¯¼è¿›ä¸€æ­¥å¢å¼ºäº†æ¨¡å—çš„å¥å£®æ€§ï¼Œä½¿ä½ çš„ API è¿è¡Œæ›´åŠ å¯é ã€‚</p>
<h2 id=é€šé…ç¬¦>é€šé…ç¬¦</h2>
<h3 id=æ— é™åˆ¶é€šé…ç¬¦>æ— é™åˆ¶é€šé…ç¬¦</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java>Set<span style=color:#f92672>&lt;?&gt;</span> set <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> HashSet<span style=color:#f92672>();</span>
</code></pre></div><p>æ— é™åˆ¶çš„é€šé…ç¬¦**?<strong>ä»£è¡¨ä»»ä½•å¯èƒ½çš„ç±»å‹ã€‚åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œå®ƒå’Œ Set ä¸€èµ·ä»£è¡¨äº†ä¸€ä¸ªæœªçŸ¥ç±»å‹å…ƒç´ çš„ Set é›†åˆï¼Œå¹¶ä¸”ç”¨æˆ·æ— æ³•å‘</strong>?**ä¿®é¥°çš„é›†åˆä¸­ add ä»»ä½•å…ƒç´ ã€‚</p>
<h3 id=æ— é™åˆ¶é€šé…ç¬¦æ€ä¹ˆç”¨>æ— é™åˆ¶é€šé…ç¬¦æ€ä¹ˆç”¨</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java>    <span style=color:#75715e>/**
</span><span style=color:#75715e>     * è¿”å›ä¸¤ä¸ªé›†åˆä¸­ç›¸åŒå…ƒç´ çš„ä¸ªæ•°
</span><span style=color:#75715e>     *
</span><span style=color:#75715e>     * @param s1 é›†åˆ1
</span><span style=color:#75715e>     * @param s2 é›†åˆ2
</span><span style=color:#75715e>     * @return ç›¸åŒå…ƒç´ çš„ä¸ªæ•°
</span><span style=color:#75715e>     */</span>
    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>numElementsInCommon</span><span style=color:#f92672>(</span>Set<span style=color:#f92672>&lt;?&gt;</span> s1<span style=color:#f92672>,</span> Set<span style=color:#f92672>&lt;?&gt;</span> s2<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>int</span> result <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>

        <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span>Object o1 <span style=color:#f92672>:</span> s1<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
            <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>s2<span style=color:#f92672>.</span><span style=color:#a6e22e>contains</span><span style=color:#f92672>(</span>o1<span style=color:#f92672>))</span> <span style=color:#f92672>{</span>
                result<span style=color:#f92672>++;</span>
            <span style=color:#f92672>}</span>
        <span style=color:#f92672>}</span>


        <span style=color:#66d9ef>return</span> result<span style=color:#f92672>;</span>
    <span style=color:#f92672>}</span>

</code></pre></div><p>æ— é™åˆ¶é€šé…ç¬¦å­˜åœ¨çš„æ„ä¹‰åœ¨äºï¼šåŠ å¼ºé›†åˆçš„çº¦æŸæ¡ä»¶ï¼Œå‡å°‘å…ƒç´ ç±»å‹çº¦æŸè¢«ç ´åçš„å¯èƒ½æ€§ã€‚
æ¢å¥è¯è¯´ï¼Œå¦‚æœå°† s1ã€s2 æ”¹ä¸ºæºç”Ÿé›†åˆå¯¹è±¡ï¼Œåˆ™å¯èƒ½åœ¨ä¸‹é¢çš„é€»è¾‘ä¸­è¢« addã€addAll ç­‰ api ç ´åæ‰å…ƒç´ çš„ç±»å‹ä¸€è‡´æ€§ï¼Œå¼•èµ·å®‰å…¨éšæ‚£ã€‚
å¦‚æœä½ ä¸å…³å¿ƒé›†åˆå¯¹è±¡çš„å…·ä½“ç±»å‹ï¼Œä½¿ç”¨æ— é™åˆ¶çš„é€šé…ç¬¦æ˜¯ä½ æœ€å¥½çš„é€‰æ‹©ã€‚å› ä¸ºä»–å¯ä»¥é€šè¿‡ç¦æ­¢å¢åŠ å…ƒç´ çš„æ‰‹æ®µï¼Œå¸®ä½ é¿å¼€è¿è¡Œæ—¶å¼‚å¸¸ï¼Œè®©ä½ çš„ä»£ç å˜å¾—æ›´åŠ å¥å£®ã€‚</p>
<h2 id=æœ‰é™åˆ¶çš„é€šé…ç¬¦>æœ‰é™åˆ¶çš„é€šé…ç¬¦</h2>
<p>æœ‰é™åˆ¶çš„é€šé…ç¬¦æ˜¯ç”¨æ¥è§£å†³ api çµæ´»æ€§çš„ã€‚è¦ç†è§£è¿™å¥è¯ï¼Œé¦–å…ˆéœ€è¦æ˜ç¡®å‚æ•°åŒ–ç±»å‹å…·æœ‰ä¸å¯å˜æ€§ã€‚</p>
<h2 id=æœ‰é™åˆ¶çš„é€šé…ç¬¦æ€ä¹ˆç”¨>æœ‰é™åˆ¶çš„é€šé…ç¬¦æ€ä¹ˆç”¨</h2>
<p>ä»€ä¹ˆå«ä¸å¯å˜æ€§ï¼Ÿ
æˆ‘ä»¬å°è¯•å¾€æœ¬ç« çš„ä¾‹å­ä¸­å¢åŠ ä¸Šé¢ä¸¤ä¸ªæ–¹æ³•ã€‚ä¸€ä¸ªæ˜¯é›†ä½“å‹æ ˆæ–¹æ³•ã€ä¸€ä¸ªæ˜¯é›†ä½“å¼¹æ ˆï¼Œå¹¶ä¸”å°†å…ƒç´ æ’å…¥åˆ°å¦å¤–ä¸€ä¸ªé›†åˆä¸­çš„æ–¹æ³•ã€‚</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java>  <span style=color:#75715e>/**
</span><span style=color:#75715e>     * å°†é›†åˆä¸­æ‰€æœ‰çš„å…ƒç´ å…¨éƒ¨å‹æ ˆ
</span><span style=color:#75715e>     *
</span><span style=color:#75715e>     * @param iterable é›†åˆå¯¹è±¡
</span><span style=color:#75715e>     */</span>
    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>pushAllFromEs</span><span style=color:#f92672>(</span>Iterable<span style=color:#f92672>&lt;</span>E<span style=color:#f92672>&gt;</span> iterable<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span>E e <span style=color:#f92672>:</span> iterable<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
            list<span style=color:#f92672>.</span><span style=color:#a6e22e>addLast</span><span style=color:#f92672>(</span>e<span style=color:#f92672>);</span>
        <span style=color:#f92672>}</span>
    <span style=color:#f92672>}</span>


    <span style=color:#75715e>/**
</span><span style=color:#75715e>     * å°†æ‰€æœ‰å…ƒç´ å¼¹æ ˆ,å¹¶è¿½åŠ åˆ°å‚æ•°é›†åˆä¸­.
</span><span style=color:#75715e>     *
</span><span style=color:#75715e>     * @param collection é›†åˆå¯¹è±¡,å¿…é¡»æ˜¯æ³›å‹å‚æ•°çš„çˆ¶ç±»
</span><span style=color:#75715e>     */</span>
    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>popAllIntoEs</span><span style=color:#f92672>(</span>Collection<span style=color:#f92672>&lt;</span>E<span style=color:#f92672>&gt;</span> collection<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>while</span> <span style=color:#f92672>(!</span>isEmpty<span style=color:#f92672>())</span> <span style=color:#f92672>{</span>
            collection<span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span>pop<span style=color:#f92672>());</span>
        <span style=color:#f92672>}</span>
    <span style=color:#f92672>}</span>

</code></pre></div><p>ä½¿ç”¨ä¸‹é¢çš„ä»£ç è¿›è¡Œæµ‹è¯•ã€‚</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java> <span style=color:#75715e>/**
</span><span style=color:#75715e>     * æ³›å‹æ–¹æ³•æµ‹è¯•å‡½æ•°ã€‚
</span><span style=color:#75715e>     *
</span><span style=color:#75715e>     * @param args
</span><span style=color:#75715e>     */</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String args<span style=color:#f92672>[])</span> <span style=color:#f92672>{</span>
        GenericApplication<span style=color:#f92672>&lt;</span>Number<span style=color:#f92672>&gt;</span> ga <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> GenericApplication<span style=color:#f92672>();</span>
        List<span style=color:#f92672>&lt;</span>Integer<span style=color:#f92672>&gt;</span> listInteger <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ArrayList<span style=color:#f92672>&lt;&gt;();</span>
        <span style=color:#75715e>// æœ‰é™åˆ¶çš„é€šé…ç¬¦æµ‹è¯• ? extends E
</span><span style=color:#75715e></span>        List<span style=color:#f92672>&lt;</span>Integer<span style=color:#f92672>&gt;</span> listInteger <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ArrayList<span style=color:#f92672>&lt;&gt;();</span>
        ga<span style=color:#f92672>.</span><span style=color:#a6e22e>pushAllFromEs</span><span style=color:#f92672>(</span>listInteger<span style=color:#f92672>);</span>

        <span style=color:#75715e>// æœ‰é™åˆ¶çš„é€šé…ç¬¦æµ‹è¯• ? super E
</span><span style=color:#75715e></span>        List<span style=color:#f92672>&lt;</span>Object<span style=color:#f92672>&gt;</span> objects <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ArrayList<span style=color:#f92672>&lt;&gt;();</span>
        ga<span style=color:#f92672>.</span><span style=color:#a6e22e>popAllIntoEs</span><span style=color:#f92672>(</span>objects<span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>


</code></pre></div><p>ç°åœ¨ä½ å°†å¾—åˆ°ä¸€ä¸ªç¼–è¯‘æ—¶å¼‚å¸¸ã€‚åŸå› å°±åœ¨äºï¼Œç±»å‹æ¨å¯¼ã€å‚æ•°åŒ–ç±»å‹å…·æœ‰ä¸å¯å˜æ€§ã€‚æ— è®º Type1 ä¸ Type2 æ˜¯å¦æ˜¯ç»§æ‰¿å…³ç³»ï¼Œéƒ½æœ‰</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java>List<span style=color:#f92672>&lt;</span>Type1<span style=color:#f92672>&gt;</span> <span style=color:#f92672>!=</span> List<span style=color:#f92672>&lt;</span>Type2<span style=color:#f92672>&gt;</span>
</code></pre></div><p>ä½†æ˜¯ï¼Œæ ¹æ®é¢å‘å¯¹è±¡çš„æ€æƒ³ï¼Œå­ç±»å¯¹è±¡åˆæ˜¯èƒ½å¤Ÿæ”¾è¿›çˆ¶ç±»å¯¹è±¡çš„é›†åˆé‡Œçš„ã€‚å¦‚æœä½ ä¸é€‚ç”¨å‚æ•°åŒ–ç±»å‹(ç±»å‹æ¨å¯¼)ï¼Œè¿™ä¹ˆåšä¹Ÿå®Œå…¨å¯ä»¥ã€‚
é‚£ä¹ˆï¼Œæ˜¯å¦èƒ½å¤Ÿåœ¨ä½¿ç”¨å‚æ•°åŒ–ç±»å‹çš„åŒæ—¶åˆèƒ½å¤Ÿå°†å­ç±»å¯¹è±¡æ”¾å…¥çˆ¶ç±»å¯¹è±¡çš„é›†åˆå‘¢ï¼Ÿ
è¿™å°±æ˜¯æœ‰é™åˆ¶é€šé…ç¬¦çš„ç”¨æ³•ã€‚</p>
<h3 id=-extends-e>? extends E</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#75715e>/**
</span><span style=color:#75715e>     * å°†é›†åˆä¸­æ‰€æœ‰çš„å…ƒç´ å…¨éƒ¨å‹æ ˆ
</span><span style=color:#75715e>     * é€šè¿‡ä½¿ç”¨æœ‰é™åˆ¶çš„é€šé…ç¬¦ç±»å‹æ¥æå‡apiçš„çµæ´»æ€§ã€‚é›†åˆå¯¹è±¡çš„å…ƒç´ å¿…é¡»æ˜¯Eçš„å­ç±»ã€‚
</span><span style=color:#75715e>     *
</span><span style=color:#75715e>     * @param iterable é›†åˆå¯¹è±¡
</span><span style=color:#75715e>     */</span>
    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>pushAll</span><span style=color:#f92672>(</span>Iterable<span style=color:#f92672>&lt;?</span> <span style=color:#66d9ef>extends</span> E<span style=color:#f92672>&gt;</span> iterable<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span>E e <span style=color:#f92672>:</span> iterable<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
            list<span style=color:#f92672>.</span><span style=color:#a6e22e>addLast</span><span style=color:#f92672>(</span>e<span style=color:#f92672>);</span>
        <span style=color:#f92672>}</span>
    <span style=color:#f92672>}</span>
</code></pre></div><h3 id=-super-e>? super E</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java>    <span style=color:#75715e>/**
</span><span style=color:#75715e>     * å°†æ‰€æœ‰å…ƒç´ å¼¹æ ˆ,å¹¶è¿½åŠ åˆ°å‚æ•°é›†åˆä¸­.
</span><span style=color:#75715e>     *
</span><span style=color:#75715e>     * @param collection é›†åˆå¯¹è±¡,å¿…é¡»æ˜¯æ³›å‹å‚æ•°çš„çˆ¶ç±»
</span><span style=color:#75715e>     */</span>
    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>popAll</span><span style=color:#f92672>(</span>Collection<span style=color:#f92672>&lt;?</span> <span style=color:#66d9ef>super</span> E<span style=color:#f92672>&gt;</span> collection<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>while</span> <span style=color:#f92672>(!</span>isEmpty<span style=color:#f92672>())</span> <span style=color:#f92672>{</span>
            collection<span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span>pop<span style=color:#f92672>());</span>
        <span style=color:#f92672>}</span>
    <span style=color:#f92672>}</span>
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java> <span style=color:#75715e>/**
</span><span style=color:#75715e>     * æ³›å‹æ–¹æ³•æµ‹è¯•å‡½æ•°ã€‚
</span><span style=color:#75715e>     *
</span><span style=color:#75715e>     * @param args
</span><span style=color:#75715e>     */</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String args<span style=color:#f92672>[])</span> <span style=color:#f92672>{</span>
        GenericApplication<span style=color:#f92672>&lt;</span>Number<span style=color:#f92672>&gt;</span> ga <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> GenericApplication<span style=color:#f92672>();</span>
        <span style=color:#75715e>// æœ‰é™åˆ¶çš„é€šé…ç¬¦æµ‹è¯• ? extends E
</span><span style=color:#75715e></span>        List<span style=color:#f92672>&lt;</span>Integer<span style=color:#f92672>&gt;</span> listInteger <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ArrayList<span style=color:#f92672>&lt;&gt;();</span>
        ga<span style=color:#f92672>.</span><span style=color:#a6e22e>pushAll</span><span style=color:#f92672>(</span>listInteger<span style=color:#f92672>);</span>
        <span style=color:#75715e>//ga.pushAllFromEs(listInteger);
</span><span style=color:#75715e></span>
        <span style=color:#75715e>// æœ‰é™åˆ¶çš„é€šé…ç¬¦æµ‹è¯• ? super E
</span><span style=color:#75715e></span>        List<span style=color:#f92672>&lt;</span>Object<span style=color:#f92672>&gt;</span> objects <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ArrayList<span style=color:#f92672>&lt;&gt;();</span>
        ga<span style=color:#f92672>.</span><span style=color:#a6e22e>popAll</span><span style=color:#f92672>(</span>objects<span style=color:#f92672>);</span>
        <span style=color:#75715e>//ga.popAllIntoEs(objects);
</span><span style=color:#75715e></span>    <span style=color:#f92672>}</span>
</code></pre></div><h2 id=æ€»ç»“>æ€»ç»“</h2>
<ol>
<li>ä½¿ç”¨åŸºäºç±»å‹æ¨å¯¼çš„æ³›å‹ç±»ï¼Œæ³›å‹æ–¹æ³•ä»¥ä½¿ä»£ç å˜å¾—æ›´åŠ å¥å£®ã€‚</li>
<li>é¿å…ä½¿ç”¨æºç”Ÿç±»å‹ï¼Œå¯¹äºæœªçŸ¥ç±»å‹çš„é›†åˆè¯·ä½¿ç”¨é€šé…ç¬¦ï¼Œä»¥åŠ å¼ºä»£ç çš„çº¦æŸæ€§ã€‚</li>
<li>åˆç†ä½¿ç”¨æœ‰é™åˆ¶çš„é€šé…ç¬¦ï¼Œæå‡ä½ çš„ API çµæ´»æ€§ã€‚</li>
</ol>
</section>
<footer>
<a class="permalink u-url" href=https://www.chucklin.net/post/genericity/>ğŸ”—</a>
<hr class=post-underline>
<p class=post-tag>Tags for this post:
<a href=https://www.chucklin.net/tags/java class="post-tag p-category">java</a>
</p>
</footer>
</article>
</div>
<div class=h-card>
<img class=u-photo src=https://www.chucklin.net/images/avator.jpg>
<div class=card-content>
<h2 class=card-name><a class="p-name u-url" href=https://www.chucklin.net/ rel=me>Chuck Lin</a></h2>
<p class=card-subhead>
<span class=p-locality>Chengdu</span>,
<span class=p-country-name>China</span><br>
<a class=u-email href=mailto:chuck1in9996@gmail.com>Email me</a>
</p>
</div>
<p class=p-note>ä»äº‹å¼€å‘å·¥ä½œ10å¹´ï¼ŒæŒç»­å†™ä½œ4å¹´ï¼Œç°åœ¨çš„èº«ä»½æ˜¯ä¸€å freelancerã€‚é¡¹ç›®å¤–åŒ…ã€é›‡ä½£æ´½è°ˆç­‰äº‹é¡¹è¯·é€šè¿‡é‚®ç®±å’Œæˆ‘è”ç³»ã€‚</p>
</div>
<div id=footer>
<nav id=article-skip>
<div class=next>
<a alt="Newer article" href=https://www.chucklin.net/post/coroutine/>&larr; Newer</a>
</div>
<div class=top>
<a alt="Top of page" href=#>Top</a>
</div>
<div class=prev>
<a alt="Older article" href=https://www.chucklin.net/post/innerclass/>Older &rarr;</a>
</div>
</nav>
<aside id=social>
<div id=social-icons>
<div class=icon-24x24>
<a class=glyph alt="GitHub profile" href=https://github.com/chuck1in><img src=https://www.chucklin.net/icons/github.svg height=24px width=24px></a>
</div>
</div>
</aside>
<p class=copyright>
Copyright Â© 2021 Chuck Lin. All rights reserved.
</p>
</div>
</body>
</html>