<!doctype html><html lang=zh-cn><head><meta charset=utf-8><title>å·¥å‚è®¾è®¡æ¨¡å¼ | ChuckLin's Blog</title><meta name=description content="Love and Peace"><meta name=author content><link rel=apple-touch-icon sizes=180x180 href=https://www.chucklin.net/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://www.chucklin.net/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://www.chucklin.net/favicon-16x16.png><link rel=manifest href=https://www.chucklin.net/site.webmanifest><link rel=mask-icon href=https://www.chucklin.net/safari-pinned-tab.svg color=#00416a><meta name=msapplication-TileColor content="#00aba9"><meta name=theme-color content="#ffffff"><link rel=me href=mailto:mikumiku.lch@hotmail.com><link rel=me href=https://github.com/chuck1in><link rel=authorization_endpoint href=https://indieauth.com/auth><link rel=token_endpoint href=https://tokens.indieauth.com/token><link rel=stylesheet href=https://www.chucklin.net/css/fonts.css><link rel=stylesheet href=https://www.chucklin.net/css/style.css><link rel=stylesheet href=https://www.chucklin.net/css/custom.css><meta name=viewport content="width=device-width,initial-scale=1"></head><body><div id=sitelogo><a class=glyph alt=Home href=https://www.chucklin.net/><img src=https://www.chucklin.net/images/site-logo.svg alt="Site Logo" height=64px width=64px></a></div><header><nav><div id=page-nav><div class=page-nav-item><a href=https://www.chucklin.net/>Home</a></div><div class=page-nav-item><a href=/about/me><span>About</span></a></div><div class=page-nav-item><a href=/tags><span>Tag</span></a></div></div></nav></header><div id=content><article class=h-entry><header><h1 class="post-title p-name">å·¥å‚è®¾è®¡æ¨¡å¼</h1><p class=post-date>Posted on
<time class=dt-published datetime=2018-01-01T16:43:09+08:00>1 January, 2018 at 16:43 +0800</time> by <a href=https://www.chucklin.net/ class="p-author h-card" rel=author>Chuck Lin</a></p></header><section class="content e-content"><h2 id=ä»€ä¹ˆæ˜¯å·¥å‚è®¾è®¡æ¨¡å¼>ä»€ä¹ˆæ˜¯å·¥å‚è®¾è®¡æ¨¡å¼ï¼Ÿ</h2><p>å·¥å‚è®¾è®¡æ¨¡å¼æ˜¯å°†æ‹¥æœ‰å…±æ€§çš„äº§å“æŠ½è±¡å°è£…åˆ°å·¥å‚ç±»ä¸­ç»Ÿä¸€è¿›è¡Œç®¡ç†å’Œåˆ›å»ºï¼Œä»¥è¾¾åˆ°é™ä½ä½¿ç”¨è€…ä¸äº§å“ä¹‹é—´çš„è€¦åˆåº¦çš„ç›®çš„ä¸€ç§æ‰‹æ®µã€‚
å·¥å‚è®¾è®¡æ¨¡å¼æ˜¯åˆ›å»ºè€…æ¨¡å¼ä¹‹ä¸€ï¼Œä¸”ä»ç»“æ„ä¸Šè¢«åˆ’åˆ†ä¸ºä¸‰å¤§ç±»ã€‚ä¸‰ç§ä¸åŒçš„ç»“æ„ç±»å‹ï¼Œåˆ†åˆ«å¯¹åº”å¤„ç†ä¸åŒçš„é—®é¢˜ã€‚</p><ul><li>ç®€å•å·¥å‚æ¨¡å¼</li><li>å·¥å‚æ–¹æ³•æ¨¡å¼</li><li>æŠ½è±¡å·¥å‚æ¨¡å¼</li></ul><h2 id=å·¥å‚è®¾è®¡æ¨¡å¼æ€ä¹ˆç”¨>å·¥å‚è®¾è®¡æ¨¡å¼æ€ä¹ˆç”¨ï¼Ÿ</h2><h3 id=ç®€å•å·¥å‚æ¨¡å¼>ç®€å•å·¥å‚æ¨¡å¼</h3><p>ç®€å•å·¥å‚æ¨¡å¼æ˜¯æœ€ç®€å•ï¼Œä¹Ÿæ˜¯æœ€æ¸…æ™°çš„æ¨¡å¼ã€‚ç†è§£äº†ç®€å•å·¥å‚æ¨¡å¼ï¼Œå°±ç†è§£äº†å·¥å‚è®¾è®¡æ¨¡å¼çš„ä¸»è¦æ€æƒ³ã€‚</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#75715e>/**
</span><span style=color:#75715e> * å·¥å‚è®¾è®¡æ¨¡å¼-ç®€å•å·¥å‚æ¨¡å¼
</span><span style=color:#75715e> * å‘é€æ¥å£.
</span><span style=color:#75715e> *
</span><span style=color:#75715e> */</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>Sender</span> <span style=color:#f92672>{</span>

    <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>send</span><span style=color:#f92672>();</span>

    <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>sendToAll</span><span style=color:#f92672>();</span>
<span style=color:#f92672>}</span>


<span style=color:#75715e>/**
</span><span style=color:#75715e> * å·¥å‚è®¾è®¡æ¨¡å¼-ç®€å•å·¥å‚æ¨¡å¼
</span><span style=color:#75715e> * å·¥å‚ç±»
</span><span style=color:#75715e> */</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>SenderFactory</span> <span style=color:#f92672>{</span>

    <span style=color:#75715e>/**
</span><span style=color:#75715e>     * å•ä¾‹
</span><span style=color:#75715e>     * ç§æœ‰åŒ–æ„é€ å™¨
</span><span style=color:#75715e>     */</span>
    <span style=color:#66d9ef>private</span> <span style=color:#a6e22e>SenderFactory</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        <span style=color:#75715e>//Nope
</span><span style=color:#75715e></span>    <span style=color:#f92672>}</span>

    <span style=color:#75715e>/**
</span><span style=color:#75715e>     * åµŒå¥—ç±»
</span><span style=color:#75715e>     * æŒæœ‰å¤–éƒ¨ç±»å¯¹è±¡
</span><span style=color:#75715e>     */</span>
    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>SenderFactoryHolder</span> <span style=color:#f92672>{</span>

        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> SenderFactory sf <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> SenderFactory<span style=color:#f92672>();</span>
    <span style=color:#f92672>}</span>

    <span style=color:#75715e>/**
</span><span style=color:#75715e>     * è·å–å•ä¾‹å®ä¾‹
</span><span style=color:#75715e>     *
</span><span style=color:#75715e>     * @return
</span><span style=color:#75715e>     */</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> SenderFactory <span style=color:#a6e22e>getInstanse</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>return</span> SenderFactoryHolder<span style=color:#f92672>.</span><span style=color:#a6e22e>sf</span><span style=color:#f92672>;</span>
    <span style=color:#f92672>}</span>


    <span style=color:#75715e>/**
</span><span style=color:#75715e>     * æ ¹æ®å‚æ•°è¿”å›ç›¸åº”å‘é€å¤„ç†ç±»
</span><span style=color:#75715e>     *
</span><span style=color:#75715e>     * @return é‚®ä»¶/çŸ­ä¿¡å‘é€å¯¹è±¡
</span><span style=color:#75715e>     */</span>
    <span style=color:#66d9ef>public</span> Sender <span style=color:#a6e22e>createSender</span><span style=color:#f92672>(</span>String senderType<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>switch</span> <span style=color:#f92672>(</span>senderType<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
            <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;sms&#34;</span><span style=color:#f92672>:</span>
                <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> SMSSender<span style=color:#f92672>();</span>
            <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;mail&#34;</span><span style=color:#f92672>:</span>
                <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> MailSender<span style=color:#f92672>();</span>
            <span style=color:#66d9ef>default</span><span style=color:#f92672>:</span>
                <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> SMSSender<span style=color:#f92672>();</span>
        <span style=color:#f92672>}</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>


<span style=color:#75715e>/**
</span><span style=color:#75715e> * å·¥å‚è®¾è®¡æ¨¡å¼-ç®€å•å·¥å‚æ¨¡å¼
</span><span style=color:#75715e> * çŸ­ä¿¡å‘é€ç±»
</span><span style=color:#75715e> *
</span><span style=color:#75715e> */</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>SMSSender</span> <span style=color:#66d9ef>implements</span> Sender <span style=color:#f92672>{</span>

    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>send</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>print</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;å‘é€çŸ­ä¿¡&#34;</span><span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>

    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>sendToAll</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;ç¾¤å‘çŸ­ä¿¡&#34;</span><span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>

<span style=color:#75715e>/**
</span><span style=color:#75715e> * å·¥å‚è®¾è®¡æ¨¡å¼-ç®€å•å·¥å‚æ¨¡å¼
</span><span style=color:#75715e> * å®¢æˆ·ç«¯
</span><span style=color:#75715e> *
</span><span style=color:#75715e> */</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Client</span> <span style=color:#f92672>{</span>

    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        SenderFactory factory <span style=color:#f92672>=</span> SenderFactory<span style=color:#f92672>.</span><span style=color:#a6e22e>getInstanse</span><span style=color:#f92672>();</span>
        Sender sd <span style=color:#f92672>=</span> factory<span style=color:#f92672>.</span><span style=color:#a6e22e>createSender</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;sms&#34;</span><span style=color:#f92672>);</span>
        sd<span style=color:#f92672>.</span><span style=color:#a6e22e>send</span><span style=color:#f92672>();</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>

</code></pre></div><p>ç”¨æˆ·/å®¢æˆ·ç«¯ç›´æ¥ä¸ SenderFactory äº¤äº’ï¼ŒSenderFactory æ ¹æ®å‚æ•°å†³å®šå…·ä½“åˆ›å»ºçš„äº§å“ï¼Œç”¨æˆ·æœ€ç»ˆä» SenderFactory ä¸­å¾—åˆ°äº†æƒ³è¦çš„äº§å“ã€‚
å¯è§ï¼Œé€šè¿‡ç®€å•å·¥å‚æ¨¡å¼ï¼Œè¾¾åˆ°äº†è§£è€¦ç”¨æˆ·ä¸äº§å“çš„æ•ˆæœã€‚ä½†æ˜¯ï¼Œè¿™æ ·çš„ç»“æ„å¹¶ä¸æ˜¯å®Œç¾çš„ã€‚
åœ¨æœ¬ä¾‹ä¸­ï¼ŒSenderFactory æŒç®¡äº†æ‰€æœ‰çš„ä¸šåŠ¡é€»è¾‘å¤„ç†ã€‚è¿™æ ·çš„ç±»ï¼Œæˆ‘ä»¬ç§°ä¸ºä¸Šå¸ç±»/å…¨èƒ½ç±»ã€‚ä¸Šå¸ç±»è€¦åˆåº¦éå¸¸é«˜ï¼Œæ¯å½“éœ€è¦å¢åŠ æ–°äº§å“æ—¶ï¼Œå°±éœ€è¦æ›´æ”¹ SenderFactory ä¸­çš„ä»£ç ã€‚æ¯”å¦‚æˆ‘ä»¬æƒ³è¦å¢åŠ  FaxSenderï¼Œåˆ™ SenderFactory ä¸­çš„é€»è¾‘å¿…ç„¶å°±ä¼šäº§ç”Ÿæ”¹åŠ¨ï¼Œè¿™ä¸ç¬¦åˆè®¾è®¡æ¨¡å¼çš„å¼€é—­åŸåˆ™(å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­)ã€‚
æ‰€ä»¥ï¼Œå½“éœ€è¦é¢‘ç¹å¢åŠ æ–°äº§å“æ—¶ï¼Œæˆ‘ä»¬å°±éœ€è¦é€šè¿‡å·¥å‚æ–¹æ³•æ¨¡å¼æ¥è§£å†³é—®é¢˜ã€‚</p><h3 id=å·¥å‚æ–¹æ³•æ¨¡å¼>å·¥å‚æ–¹æ³•æ¨¡å¼</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#75715e>/**
</span><span style=color:#75715e> * å·¥å‚è®¾è®¡æ¨¡å¼-å·¥å‚æ–¹æ³•æ¨¡å¼
</span><span style=color:#75715e> * å‘é€æ¥å£.
</span><span style=color:#75715e> */</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>Sender</span> <span style=color:#f92672>{</span>

    <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>send</span><span style=color:#f92672>();</span>
    <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>confrimName</span><span style=color:#f92672>();</span>
<span style=color:#f92672>}</span>

<span style=color:#75715e>/**
</span><span style=color:#75715e> * å·¥å‚è®¾è®¡æ¨¡å¼-å·¥å‚æ–¹æ³•æ¨¡å¼
</span><span style=color:#75715e> * çŸ­ä¿¡å‘é€ç±»
</span><span style=color:#75715e> */</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>SMSSender</span> <span style=color:#66d9ef>implements</span> Sender <span style=color:#f92672>{</span>


    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>send</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;å‘é€çŸ­ä¿¡&#34;</span><span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>

    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>confrimName</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;ç¡®è®¤çŸ­ä¿¡å‘é€å¯¹è±¡å§“å&#34;</span><span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>

<span style=color:#75715e>/**
</span><span style=color:#75715e> * å·¥å‚è®¾è®¡æ¨¡å¼-å·¥å‚æ–¹æ³•æ¨¡å¼
</span><span style=color:#75715e> * çŸ­ä¿¡å‘é€å·¥å‚
</span><span style=color:#75715e> */</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>SMSSenderFactory</span> <span style=color:#66d9ef>implements</span> ISenderFactory <span style=color:#f92672>{</span>
    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>public</span> Sender <span style=color:#a6e22e>createSender</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> SMSSender<span style=color:#f92672>();</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>

<span style=color:#75715e>/**
</span><span style=color:#75715e> * å·¥å‚è®¾è®¡æ¨¡å¼-å·¥å‚æ–¹æ³•æ¨¡å¼
</span><span style=color:#75715e> * é‚®ä»¶å‘é€ç±»
</span><span style=color:#75715e> */</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MailSender</span> <span style=color:#66d9ef>implements</span> Sender <span style=color:#f92672>{</span>

    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>send</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;å‘é€é‚®ä»¶&#34;</span><span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>

    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>confrimName</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;ç¡®è®¤é‚®ä»¶å‘é€å¯¹è±¡å§“å&#34;</span><span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>

<span style=color:#75715e>/**
</span><span style=color:#75715e> * å·¥å‚è®¾è®¡æ¨¡å¼-å·¥å‚æ–¹æ³•æ¨¡å¼
</span><span style=color:#75715e> * é‚®ä»¶å‘é€ç±»åˆ¶é€ å·¥å‚
</span><span style=color:#75715e> *
</span><span style=color:#75715e> */</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MailSenderFactory</span> <span style=color:#66d9ef>implements</span> ISenderFactory <span style=color:#f92672>{</span>


    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>public</span> Sender <span style=color:#a6e22e>createSender</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> MailSender<span style=color:#f92672>();</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>

<span style=color:#75715e>/**
</span><span style=color:#75715e> * å·¥å‚è®¾è®¡æ¨¡å¼-å·¥å‚æ–¹æ³•æ¨¡å¼
</span><span style=color:#75715e> * ä¼ çœŸå‘é€ç±»
</span><span style=color:#75715e> */</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>FaxSender</span> <span style=color:#66d9ef>implements</span> Sender <span style=color:#f92672>{</span>

    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>send</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;å‘é€ä¼ çœŸ&#34;</span><span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>

    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>confrimName</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;ç¡®è®¤ä¼ çœŸå‘é€å¯¹è±¡å§“å&#34;</span><span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>


<span style=color:#75715e>/**
</span><span style=color:#75715e> * å·¥å‚è®¾è®¡æ¨¡å¼-å·¥å‚æ–¹æ³•æ¨¡å¼
</span><span style=color:#75715e> * ä¼ çœŸå‘é€ç±»åˆ¶é€ å·¥å‚
</span><span style=color:#75715e> */</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>FaxSenderFactory</span> <span style=color:#66d9ef>implements</span> ISenderFactory <span style=color:#f92672>{</span>

    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>public</span> Sender <span style=color:#a6e22e>createSender</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> FaxSender<span style=color:#f92672>();</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>

<span style=color:#75715e>/**
</span><span style=color:#75715e> * å·¥å‚è®¾è®¡æ¨¡å¼-å·¥å‚æ–¹æ³•æ¨¡å¼
</span><span style=color:#75715e> * æµ‹è¯•å®¢æˆ·ç«¯
</span><span style=color:#75715e> */</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Client</span> <span style=color:#f92672>{</span>

    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
        <span style=color:#75715e>// éœ€è¦ç”Ÿäº§çŸ­ä¿¡å‘é€å™¨,ç»™å®¢æˆ·å‘é€çŸ­ä¿¡
</span><span style=color:#75715e></span>        SMSSenderFactory smsfct <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> SMSSenderFactory<span style=color:#f92672>();</span>
        smsfct<span style=color:#f92672>.</span><span style=color:#a6e22e>createSender</span><span style=color:#f92672>().</span><span style=color:#a6e22e>send</span><span style=color:#f92672>();</span>
        smsfct<span style=color:#f92672>.</span><span style=color:#a6e22e>createSender</span><span style=color:#f92672>().</span><span style=color:#a6e22e>confrimName</span><span style=color:#f92672>();</span>
        <span style=color:#75715e>// éœ€è¦ç”Ÿäº§é‚®ä»¶å‘é€å™¨,ç»™å®¢æˆ·å‘é€çŸ­ä¿¡
</span><span style=color:#75715e></span>        MailSenderFactory mailfct <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> MailSenderFactory<span style=color:#f92672>();</span>
        mailfct<span style=color:#f92672>.</span><span style=color:#a6e22e>createSender</span><span style=color:#f92672>().</span><span style=color:#a6e22e>send</span><span style=color:#f92672>();</span>
        <span style=color:#75715e>// éœ€è¦ç”Ÿäº§ä¼ çœŸå‘é€å™¨,ç»™å®¢æˆ·å‘é€çŸ­ä¿¡
</span><span style=color:#75715e></span>        FaxSenderFactory faxfct <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> FaxSenderFactory<span style=color:#f92672>();</span>
        faxfct<span style=color:#f92672>.</span><span style=color:#a6e22e>createSender</span><span style=color:#f92672>().</span><span style=color:#a6e22e>send</span><span style=color:#f92672>();</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>

</code></pre></div><p>æœ‰åˆ«ä¸ç®€å•å·¥å‚æ¨¡å¼ã€‚å·¥å‚æ–¹æ³•æ¨¡å¼ä¸­å·¥å‚ç±»è¢«æŠ½è±¡æˆä¸ºäº†æ¥å£ã€‚è€Œä¸åŒçš„äº§å“å¯¹åº”ä¸åŒçš„å®ç°äº†å·¥å‚æ¥å£çš„å…·ä½“å·¥å‚ã€‚æ¯”å¦‚ SMSSenderFactory å®ç°äº†å·¥å‚æ¥å£ï¼Œå¹¶ä¸”åªè´Ÿè´£ç”Ÿäº§ SMSSender å¯¹è±¡äº§å“ã€‚å½“å‡ºç°æ–°éœ€æ±‚ï¼Œå¦‚å¢åŠ  FaxSender äº§å“æ—¶ï¼Œæˆ‘ä»¬ä¸éœ€è¦æ”¹åŠ¨ä»»ä½•ä»£ç ï¼Œåªéœ€è¦åˆ›å»ºç›¸åº”çš„ FaxSenderFactory ä¸ FaxSender å°±å¤Ÿäº†ã€‚</p><p>ç»†å¿ƒçš„è¯»è€…å¯èƒ½å·²ç»å‘ç°äº†ï¼Œå·¥å‚æ–¹æ³•æ¨¡å¼åŒæ ·æ‹¥æœ‰ä¸€äº›â€œè‡´å‘½â€ç¼ºç‚¹ï¼Œé‚£å°±æ˜¯éšç€äº§å“çš„å¢åŠ ï¼Œç›¸åº”çš„å·¥å‚ç±»ä¹Ÿä¼šåŒæ¯”å¢åŠ ï¼Œé€ æˆé¡¹ç›®æ–‡ä»¶ååˆ†è‡ƒè‚¿å·¨å¤§ã€‚äºæ˜¯ï¼Œä¸ºäº†å‡å°‘å·¥å‚ç±»çš„å‡ºç°æ•°é‡ï¼ŒæŠ½è±¡å·¥å‚æ¨¡å¼è¯ç”Ÿäº†ã€‚</p><h3 id=æŠ½è±¡å·¥å‚æ¨¡å¼>æŠ½è±¡å·¥å‚æ¨¡å¼</h3><p>æŠ½è±¡å·¥å‚æ¨¡å¼è‹¥é‡‡ç”¨â€œå¡«é¸­å¼â€è¯´æ˜ï¼Œä¼šè®©äººæ„Ÿè§‰éš¾ä»¥ç†è§£ã€‚
æ‰€ä»¥è®©æˆ‘ä»¬å…ˆæ¥å°è¯•é è‡ªå·±çš„åŠ›é‡è§£å†³ä¸€ä¸‹ä¸Šä¸€å°èŠ‚ä¸­çš„ï¼Œå·¥å‚æ–¹æ³•æ¨¡å¼æ‰€é€ æˆçš„å·¥å‚ç±»å¤§é‡å¢å¤šçš„é—®é¢˜ï¼Œå·²è¾¾åˆ°å¾ªåºæ¸è¿›åœ°ç†è§£æŠ½è±¡å·¥å‚æ¨¡å¼çš„ç›®çš„ã€‚</p><p>å·¥å‚ç±»ç–¯ç‹‚å¢å¤šçš„æ ¹æœ¬åŸå› ï¼Œæ˜¯å•ä¸ªå•†å“çš„ç”Ÿäº§å¯¹åº”äº†å•ä¸ªå·¥å‚ã€‚
è¦å‡å°‘ä»–ä»¬çš„æ•°é‡ï¼Œæœ€å®¹æ˜“æƒ³åˆ°çš„è§£å†³æ–¹æ¡ˆåˆ™æ˜¯æƒ³åŠæ³•è®©ä¸€ä¸ªå·¥å‚åˆ›å»ºå¤šä¸ªäº§å“ã€‚ç„¶è€Œæœ‰äº†ç¬¬ä¸€å°èŠ‚ç®€å•å·¥å‚æ¨¡å¼çš„çŸ¥è¯†ï¼Œæˆ‘ä»¬è¿˜çŸ¥é“è¦å°½å¯èƒ½è§£è€¦å·¥å‚ç±»ï¼Œé¿å…åˆ›å»ºå‡ºå…¨èƒ½ç±»/ä¸Šå¸ç±»ï¼Œç»™å°†æ¥çš„ç»´æŠ¤æ‰©å±•é€ æˆè´Ÿæ‹…ã€‚
ä¾‹å¦‚ï¼Œåœ¨é¡¹ç›®è¿›è¡Œä¸­ï¼Œçªç„¶éœ€è¦å¢åŠ ä¸€ä¸ª Receiver äº§å“ï¼Œå¦‚ä¸‹ï¼š</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#75715e>/**
</span><span style=color:#75715e> * å·¥å‚è®¾è®¡æ¨¡å¼-æŠ½è±¡å·¥å‚æ¨¡å¼
</span><span style=color:#75715e> * æ¥æ”¶è€…å¯¹è±¡
</span><span style=color:#75715e> */</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>Receiver</span> <span style=color:#f92672>{</span>

    <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>receive</span><span style=color:#f92672>();</span>

    <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>confirmName</span><span style=color:#f92672>();</span>
<span style=color:#f92672>}</span>

<span style=color:#75715e>/**
</span><span style=color:#75715e> * å·¥å‚è®¾è®¡æ¨¡å¼-æŠ½è±¡å·¥å‚æ¨¡å¼
</span><span style=color:#75715e> * é‚®ä»¶æ¥å—å¯¹è±¡
</span><span style=color:#75715e> */</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MailReceiver</span> <span style=color:#66d9ef>implements</span> Receiver <span style=color:#f92672>{</span>
    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>receive</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;æ¥å—é‚®ä»¶&#34;</span><span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>

    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>confirmName</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;ç¡®è®¤é‚®ä»¶æ¥å—è€…å§“å&#34;</span><span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>


<span style=color:#75715e>/**
</span><span style=color:#75715e> * å·¥å‚è®¾è®¡æ¨¡å¼-æŠ½è±¡å·¥å‚è®¾è®¡æ¨¡å¼
</span><span style=color:#75715e> * ä¼ çœŸæ¥æ”¶å™¨
</span><span style=color:#75715e> *
</span><span style=color:#75715e> */</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>FaxReceiver</span> <span style=color:#66d9ef>implements</span> Receiver <span style=color:#f92672>{</span>

    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>receive</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;æ¥å—ä¼ çœŸ&#34;</span><span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>

    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>confirmName</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;ç¡®è®¤ä¼ çœŸå‘é€æ–¹å§“å&#34;</span><span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>

<span style=color:#75715e>/**
</span><span style=color:#75715e> * å·¥å‚è®¾è®¡æ¨¡å¼-æŠ½è±¡å·¥å‚è®¾è®¡æ¨¡å¼
</span><span style=color:#75715e> * çŸ­ä¿¡æ¥å—å¯¹è±¡
</span><span style=color:#75715e> *
</span><span style=color:#75715e> */</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>SMSReceiver</span> <span style=color:#66d9ef>implements</span> Receiver <span style=color:#f92672>{</span>
    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>receive</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;æ¥å—çŸ­ä¿¡&#34;</span><span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>

    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>confirmName</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;ç¡®è®¤çŸ­ä¿¡æ¥å—è€…å§“å&#34;</span><span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>

</code></pre></div><p>å¦‚æœæŒ‰ç…§å·¥å‚æ–¹æ³•è®¾è®¡æ¨¡å¼çš„æ€è·¯ï¼Œä¸Šé¢è¿™ 3 ä¸ª Receiver éœ€è¦åœ¨é¡¹ç›®ä¸­å¢åŠ  3 ä¸ªå¯¹åº”çš„å…·ä½“å·¥å‚ç±»ã€‚è¿™æ˜¾ç„¶æ˜¯ä¸å¤ªç†æƒ³çš„åšæ³•ã€‚é‚£ä¹ˆï¼Œæœ‰æ²¡æœ‰æ›´åŠ ç†æƒ³çš„åšæ³•å‘¢ï¼Ÿ</p><p>ç»§ç»­åˆ†æï¼Œæœ¬ä¾‹ä¸­ mailSender/mailReceiverï¼ŒfaxSender/faxReceiverï¼ŒSMSSender/SMSReceiver åˆšå¥½èƒ½å¤Ÿç»„åˆä¸ºä¸‰å¯¹äº§å“ç»„åˆã€‚å¦‚æœä¸€ä¸ªå·¥å‚èƒ½å¤Ÿç”Ÿäº§ä¸€å¯¹ç»„åˆäº§å“ï¼Œæ˜¯ä¸æ˜¯åªéœ€è¦ä¸‰ä¸ªå·¥å‚å°±èƒ½è§£å†³æˆ‘ä»¬çš„éœ€æ±‚å‘¢ï¼Ÿ
åœ¨ç†æ¸…äº†æ€è·¯åï¼Œæˆ‘ä»¬å¼€å§‹åŠ¨æ‰‹å†™ä»£ç åšä¸€äº›å°è¯•ã€‚
ä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä»¬å°† mailSender/mailReceiver è¿™æ ·ä¸€å¯¹äº§å“ï¼Œç§°ä¸ºä¸€ä¸ªäº§å“ç°‡ã€‚è€Œ mailSenderï¼ŒfaxSenderï¼ŒSMSSender 3 ä¸ªäº§å“ï¼Œç§°ä¸º 3 ä¸ªäº§å“ç­‰çº§ã€‚</p><p><strong>Sender ç±»äº§å“ï¼š</strong></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#75715e>/**
</span><span style=color:#75715e> * å·¥å‚è®¾è®¡æ¨¡å¼-æŠ½è±¡å·¥å‚æ¨¡å¼
</span><span style=color:#75715e> * ä¿¡æ¯å‘é€äº§å“ç»Ÿä¸€æ¥å£
</span><span style=color:#75715e> */</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>Sender</span> <span style=color:#f92672>{</span>

    <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>send</span><span style=color:#f92672>();</span>
    <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>confrimName</span><span style=color:#f92672>();</span>
<span style=color:#f92672>}</span>


<span style=color:#75715e>/**
</span><span style=color:#75715e> * å·¥å‚è®¾è®¡æ¨¡å¼-æŠ½è±¡å·¥å‚æ¨¡å¼
</span><span style=color:#75715e> * çŸ­ä¿¡å‘é€å¯¹è±¡
</span><span style=color:#75715e> */</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>SMSSender</span> <span style=color:#66d9ef>implements</span> Sender <span style=color:#f92672>{</span>
    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>send</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;å‘é€çŸ­ä¿¡&#34;</span><span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>

    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>confrimName</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;ç¡®è®¤çŸ­ä¿¡å‘é€å¯¹è±¡å§“å&#34;</span><span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>


<span style=color:#75715e>/**
</span><span style=color:#75715e> * å·¥å‚è®¾è®¡æ¨¡å¼-æŠ½è±¡å·¥å‚æ¨¡å¼
</span><span style=color:#75715e> * é‚®ä»¶å‘é€ç±»
</span><span style=color:#75715e> *
</span><span style=color:#75715e> */</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MailSender</span> <span style=color:#66d9ef>implements</span> Sender <span style=color:#f92672>{</span>


    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>send</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;å‘é€é‚®ä»¶&#34;</span><span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>

    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>confrimName</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;ç¡®è®¤é‚®ä»¶å‘é€å¯¹è±¡å§“å&#34;</span><span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>


<span style=color:#75715e>/**
</span><span style=color:#75715e> * å·¥å‚è®¾è®¡æ¨¡å¼-æŠ½è±¡å·¥å‚è®¾è®¡æ¨¡å¼
</span><span style=color:#75715e> * ä¼ çœŸå‘é€å™¨
</span><span style=color:#75715e> *
</span><span style=color:#75715e> */</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>FaxSender</span> <span style=color:#66d9ef>implements</span> Sender <span style=color:#f92672>{</span>

    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>send</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;å‘é€ä¼ çœŸ&#34;</span><span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>

    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>confrimName</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;ç¡®è®¤ä¼ çœŸå‘é€å§“å&#34;</span><span style=color:#f92672>);</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>


</code></pre></div><p>ä¸€ä¸ªäº§å“ç°‡å·¥å‚ä¸­ï¼Œèƒ½å¤Ÿç”Ÿäº§ä¸€ä¸ªç³»åˆ—çš„äº§å“ã€‚è€Œéå•ä¸ªäº§å“ã€‚</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#75715e>/**
</span><span style=color:#75715e> * å·¥å‚è®¾è®¡æ¨¡å¼-æŠ½è±¡å·¥å‚æ¨¡å¼
</span><span style=color:#75715e> * æŠ½è±¡å·¥å‚ç±»
</span><span style=color:#75715e> *
</span><span style=color:#75715e> */</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>AbstractMsgHandlerFactory</span> <span style=color:#f92672>{</span>

    <span style=color:#75715e>// åˆ›å»ºå‘é€å™¨æ–¹æ³•
</span><span style=color:#75715e></span>    Sender <span style=color:#a6e22e>createSender</span><span style=color:#f92672>();</span>

    <span style=color:#75715e>// åˆ›å»ºæ¥æ”¶å™¨æ–¹æ³•
</span><span style=color:#75715e></span>    Receiver <span style=color:#a6e22e>createReceiver</span><span style=color:#f92672>();</span>
<span style=color:#f92672>}</span>


<span style=color:#75715e>/**
</span><span style=color:#75715e> * å·¥å‚è®¾è®¡æ¨¡å¼-æŠ½è±¡å·¥å‚è®¾è®¡æ¨¡å¼
</span><span style=color:#75715e> * ä¼ çœŸå·¥å‚
</span><span style=color:#75715e> */</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>FaxHandlerFactory</span> <span style=color:#66d9ef>implements</span> AbstractMsgHandlerFactory <span style=color:#f92672>{</span>
    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>public</span> Sender <span style=color:#a6e22e>createSender</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> FaxSender<span style=color:#f92672>();</span>
    <span style=color:#f92672>}</span>

    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>public</span> Receiver <span style=color:#a6e22e>createReceiver</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> FaxReceiver<span style=color:#f92672>();</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>


<span style=color:#75715e>/**
</span><span style=color:#75715e> * å·¥å‚è®¾è®¡æ¨¡å¼-æŠ½è±¡å·¥å‚æ–¹æ³•è®¾è®¡æ¨¡å¼
</span><span style=color:#75715e> * é‚®ä»¶å·¥å‚
</span><span style=color:#75715e> *
</span><span style=color:#75715e> */</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MailHandlerFactory</span> <span style=color:#66d9ef>implements</span> AbstractMsgHandlerFactory <span style=color:#f92672>{</span>
    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>public</span> Sender <span style=color:#a6e22e>createSender</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> MailSender<span style=color:#f92672>();</span>
    <span style=color:#f92672>}</span>

    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>public</span> Receiver <span style=color:#a6e22e>createReceiver</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> MailReceiver<span style=color:#f92672>();</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>


<span style=color:#75715e>/**
</span><span style=color:#75715e> * å·¥å‚è®¾è®¡æ¨¡å¼-æŠ½è±¡å·¥å‚æ–¹æ³•è®¾è®¡æ¨¡å¼
</span><span style=color:#75715e> * çŸ­ä¿¡å·¥å‚
</span><span style=color:#75715e> */</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>SMSHandlerFactory</span> <span style=color:#66d9ef>implements</span> AbstractMsgHandlerFactory <span style=color:#f92672>{</span>
    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>public</span> Sender <span style=color:#a6e22e>createSender</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> SMSSender<span style=color:#f92672>();</span>
    <span style=color:#f92672>}</span>

    <span style=color:#a6e22e>@Override</span>
    <span style=color:#66d9ef>public</span> Receiver <span style=color:#a6e22e>createReceiver</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> SMSReceiver<span style=color:#f92672>();</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>

</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java>
<span style=color:#75715e>/**
</span><span style=color:#75715e> * å·¥å‚è®¾è®¡æ¨¡å¼-æŠ½è±¡å·¥å‚æ–¹æ³•æ¨¡å¼
</span><span style=color:#75715e> * å®¢æˆ·ç«¯
</span><span style=color:#75715e> *
</span><span style=color:#75715e> */</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Client</span> <span style=color:#f92672>{</span>

    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
       <span style=color:#75715e>// éœ€è¦å¤„ç†é‚®ä»¶.
</span><span style=color:#75715e></span>        AbstractMsgHandlerFactory mailFactory <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> MailHandlerFactory<span style=color:#f92672>();</span>
        mailFactory<span style=color:#f92672>.</span><span style=color:#a6e22e>createSender</span><span style=color:#f92672>().</span><span style=color:#a6e22e>send</span><span style=color:#f92672>();</span>
        mailFactory<span style=color:#f92672>.</span><span style=color:#a6e22e>createReceiver</span><span style=color:#f92672>().</span><span style=color:#a6e22e>receive</span><span style=color:#f92672>();</span>

        <span style=color:#75715e>// éœ€è¦å¤„ç†çŸ­ä¿¡
</span><span style=color:#75715e></span>        AbstractMsgHandlerFactory smsFactory <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> SMSHandlerFactory<span style=color:#f92672>();</span>
        smsFactory<span style=color:#f92672>.</span><span style=color:#a6e22e>createSender</span><span style=color:#f92672>().</span><span style=color:#a6e22e>send</span><span style=color:#f92672>();</span>
        smsFactory<span style=color:#f92672>.</span><span style=color:#a6e22e>createReceiver</span><span style=color:#f92672>().</span><span style=color:#a6e22e>receive</span><span style=color:#f92672>();</span>

        <span style=color:#75715e>// éœ€è¦å¤„ç†ä¼ çœŸ
</span><span style=color:#75715e></span>        AbstractMsgHandlerFactory faxFactory <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> FaxHandlerFactory<span style=color:#f92672>();</span>
        faxFactory<span style=color:#f92672>.</span><span style=color:#a6e22e>createSender</span><span style=color:#f92672>().</span><span style=color:#a6e22e>send</span><span style=color:#f92672>();</span>
        faxFactory<span style=color:#f92672>.</span><span style=color:#a6e22e>createReceiver</span><span style=color:#f92672>().</span><span style=color:#a6e22e>receive</span><span style=color:#f92672>();</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>

</code></pre></div><p>é€šè¿‡æŠ½è±¡å·¥å‚è®¾è®¡æ¨¡å¼ï¼Œå°†ä»£ç çš„å…±æ€§é‡æ–°è¿›è¡Œäº†æŠ½è±¡ï¼Œä»è€Œä½¿ä»£ç ç»“æ„å‘ç”Ÿäº†å˜åŒ–ã€‚ç°åœ¨ä¸€ä¸ªå·¥å‚ä¸å†ç”Ÿäº§å•ä¸ªäº§å“ï¼Œè€Œæ˜¯ç”Ÿäº§ä¸€ä¸ªäº§å“ç°‡ã€‚æ¯”å¦‚ SMSHandlerFactory å·¥å‚ç”Ÿäº§ä¸ SMS æœ‰å…³çš„äº§å“ç°‡çš„å…¨ç³»åˆ—äº§å“ã€‚ä»–ä»¬åŒ…æ‹¬ SMSReceiver ä¸ SMSSenderã€‚
å°†æ¥è‹¥éœ€è¦è¿›è¡Œäº§å“ç­‰çº§çš„æ‰©å±•ï¼Œå¦‚åŠ å…¥äº† Forwarder ç±»äº§å“ï¼Œæˆ‘ä»¬ä¸éœ€è¦å¢åŠ æ–°çš„å·¥å‚ç±»ï¼Œä»…éœ€è¦åœ¨å·¥å‚æ¥å£ä¸­å¢åŠ  Forwarder çš„ç”Ÿäº§æ¥å£ï¼Œå†æ›´æ”¹ç›¸åº”å®ç°ä»£ç å°±å¯ä»¥äº†ã€‚
è‹¥å°†æ¥éœ€è¦è¿›è¡Œäº§å“ç°‡çš„æ‰©å±•ï¼Œå¦‚å¢åŠ äº† PhoneSenderï¼ŒPhoneRecevier ç³»åˆ—äº§å“ï¼Œåˆ™ä»…éœ€è¦å¢åŠ ä¸€ä¸ª phoneFactory å°±å¯ä»¥è§£å†³é—®é¢˜ã€‚è€Œä¸éœ€è¦æ›´æ”¹åŸæœ‰ä»£ç ã€‚
ä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥è®¾è®¡æ¨¡å¼å†å…·å¤‡äº†ä¸€å®šçš„æ‰©å±•æ€§çš„åŒæ—¶ï¼Œåˆå°½å¯èƒ½çš„æ§åˆ¶äº†ç±»çš„å¤§é‡æ‰©å¼ ã€‚</p><h2 id=æ€»ç»“>æ€»ç»“</h2><ol><li>å·¥å‚è®¾è®¡æ¨¡å¼åˆ†ä¸ºä¸‰ç±»ã€‚ç®€å•å·¥å‚ï¼Œå·¥å‚æ–¹æ³•ï¼ŒæŠ½è±¡å·¥å‚ã€‚</li><li>ç®€å•å·¥å‚æ¨¡å¼é€‚åˆç”¨äºé¡¹ç›®éœ€æ±‚ç®€å•ï¼Œäº§å“å¾ˆå°‘å¹¶ä¸”å‡ ä¹æ²¡æœ‰æ‰©å±•å¯èƒ½æ€§çš„æƒ…å†µã€‚</li><li>å·¥å‚æ–¹æ³•æ¨¡å¼é€‚åˆç”¨äºäº§å“ç°‡å•ä¸€ï¼Œä½†å´ç»å¸¸å‘ç”Ÿæ”¹å˜çš„æƒ…å†µã€‚</li><li>æŠ½è±¡å·¥å‚é€‚åˆç”¨äºé¡¹ç›®æ‹¥æœ‰å¤šä¸ªäº§å“ç°‡ï¼Œä¸”äº§å“ç­‰çº§ç»å¸¸å‘ç”Ÿæ”¹å˜ï¼Œå¹¶ä¸”è¿˜éœ€è¦å°½å¯èƒ½æ§åˆ¶é¡¹ç›®ä½“ç§¯çš„æƒ…å†µã€‚</li></ol></section><footer><a class="permalink u-url" href=https://www.chucklin.net/post/factory_designmode/>ğŸ”—</a><hr class=post-underline><p class=post-tag>Tags for this post:
<a href=https://www.chucklin.net/tags/java class="post-tag p-category">java</a></p></footer></article></div><div class=h-card><img class=u-photo src=https://www.chucklin.net/images/avator.jpg><div class=card-content><h2 class=card-name><a class="p-name u-url" href=https://www.chucklin.net/ rel=me>Chuck Lin</a></h2><p class=card-subhead><span class=p-locality>Chengdu</span>,
<span class=p-country-name>China</span><br><a class=u-email href=mailto:mikumiku.lch@hotmail.com>Email me</a></p></div><p class=p-note>ä»äº‹å¼€å‘å·¥ä½œ10å¹´ï¼ŒæŒç»­å†™ä½œ4å¹´ï¼Œç°åœ¨çš„èº«ä»½æ˜¯ä¸€å freelancerã€‚é¡¹ç›®å¤–åŒ…ã€é›‡ä½£æ´½è°ˆç­‰äº‹é¡¹è¯·é€šè¿‡é‚®ç®±å’Œæˆ‘è”ç³»ã€‚</p></div><div id=footer><nav id=article-skip><div class=next><a alt="Newer article" href=https://www.chucklin.net/post/status_designmode/>&larr; Newer</a></div><div class=top><a alt="Top of page" href=#>Top</a></div><div class=prev><a alt="Older article" href=https://www.chucklin.net/post/deadlock/>Older &rarr;</a></div></nav><aside id=social><div id=social-icons><div class=icon-24x24><a class=glyph alt="GitHub profile" href=https://github.com/chuck1in><img src=https://www.chucklin.net/icons/github.svg height=24px width=24px></a></div></div></aside><p class=copyright>Copyright Â© 2021 Chuck Lin. All rights reserved.</p></div></body></html>